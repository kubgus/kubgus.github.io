---
import NavbarLayout from "../../layouts/navbar-layout.astro";

const posts = await Astro.glob("./post/*.md");
posts.sort((a, b) => Date.parse(b.frontmatter.pubDate) - Date.parse(a.frontmatter.pubDate));
---

<style>
section {
    @apply flex flex-col gap-6 mt-12
}

figure {
    @apply flex flex-col gap-1 p-6 rounded-lg bg-brand-black
}

figure h2 {
    @apply mb-1.5
}

figure span#date {
    @apply opacity-40
}
</style>

<NavbarLayout>
    <h1>Blog</h1>
    <section>
        { posts.map((post) =>
            <figure>
                <a href={post.url} class="flex flex-row gap-4 items-center">
                    <h3>{post.frontmatter.title}</h3>
                </a>
                <span id="date" class="opacity-40">{post.frontmatter.author} â€¢ {new Date(post.frontmatter.pubDate).toDateString()}</span>
            </figure>
        ) }
    </section>
</NavbarLayout>
